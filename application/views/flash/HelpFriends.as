package  {		import flash.display.MovieClip;	import flash.display.Stage;	import flash.events.MouseEvent;		import flash.net.*;	import flash.events.*;	import flash.text.TextField;	import flash.xml.*;	import flash.external.ExternalInterface;			//import flash.display.DisplayObjectContainer;			public class HelpFriends extends MovieClip {				//private static const URL:String = "http://127.0.0.1/portfolio_file/junglefruitscrush/php/friends.xml";		private static const URL:String = "http://alexiscapot.se/portfolio_file/junglefruitscrush/application/views/php/helpFriendsV.php";		private var friendPanel:MiniPanelFriend;		private var refStage:Stage;		private var posX:int;		private var posY:int;		private var db:DB;		private var friends:XMLList;		private var gameData:XML;				private var _loader:URLLoader;		private var _request:URLRequest;		//public var gameData:XML;		public var friendsArr:Array = new Array();		public var prob:String;		public var friend:XMLList;				//THIS BUTTON IS TO CLOSE THE MSNG AREA		public var btnClose:BtnFriend;				public var btnInvite:BtnFriend;		public var btnHelpAll:BtnFriend;						public function HelpFriends(stage:Stage) {						// constructor code			//trace("frndXMLList:"+frndXMLList);			//refStage = stage;									//button to close MESSEGES			btnClose = new BtnFriend(13,14);			btnClose.x = 650;			btnClose.y = -5;			addChild(btnClose);			btnClose.addEventListener(MouseEvent.CLICK, closeMsng); 						//addBtn();			this.x = 50;			this.y = 50;						posX = this.x;			posY = this.y;						loadData();			//trace("Main.db.friend:"+Main.db.gameData);		}						public function closeMsng(event:MouseEvent)		{			parent.removeChild(this);			btnClose.removeEventListener(MouseEvent.CLICK, closeMsng); 					}						//==============Start charge the XML==================== 		public function loadData():void		{						_request = new URLRequest(URL);			_request.method = URLRequestMethod.POST;						_loader  = new URLLoader();						_loader.addEventListener(Event.COMPLETE,completeXML);			_loader.load(_request);		}				public function completeXML(e:Event):void		{			var xml:XML = new XML(e.target.data);			gameData = new XML(e.target.data);			//parseFriend(gameData)						friend = gameData.friend;			trace(friend);			friendsPanel(friend);					}				//==============END charge the XML==================== 								public function friendsPanel(friendsList:XMLList)				{			var count:int;			var posX2:int;			var posY2:int = 100;			var typeBtn:String;						count=0;			trace("friendsList.length: "+friendsList.length())			var r:int;						for (var i:int; i < 6 ; i++ )			{				posX2=15;								for (r=0; r < 3 ; r++ )				{									trace("friend:"+friendsList[count].installed);										if(friendsList[count].installed=="no")					{						typeBtn = "invite";					}					else					{						typeBtn = "help";					}										friendPanel = new MiniPanelFriend(posX2, posY2, 200, 75, typeBtn, friendsList[count].id);					posX2 += 225;					trace("px:"+posX2);										var str:String;										friendPanel.info.text=friendsList[count].name;					friendPanel.addPicture(friendsList[count].pic);					//friendPanel.addBtn();					addChild(friendPanel);					count++;				}				posY2+=80;				trace("py:"+posY2);												trace("count:"+count);			}						btnHelpAll = new BtnFriend(1,2);			addChild(btnHelpAll);			btnHelpAll.y=610;			btnHelpAll.x=250;						btnInvite = new BtnFriend(31,32);			addChild(btnInvite);			btnInvite.y=610;			btnInvite.x=450;						btnInvite.addEventListener(MouseEvent.CLICK, inviteFriends);								}				public function inviteFriends(event:Event)		{						ExternalInterface.call("FacebookInviteFriends()");		} 					}	}