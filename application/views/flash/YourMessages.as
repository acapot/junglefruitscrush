package  {	import flash.display.MovieClip;	import flash.display.Stage;	import flash.events.MouseEvent;		import flash.net.*;	import flash.events.*;	import flash.text.TextField;	import flash.xml.*;			//import flash.display.DisplayObjectContainer;			public class YourMessages extends MovieClip {				//private static const URL:String = "http://127.0.0.1/portfolio_file/junglefruitscrush/php/friends.xml";		private static const URL:String = "http://alexiscapot.se/portfolio_file/junglefruitscrush/application/views/php/helpFriendsV.php";		private var friendPanel:FriendPanel;		private var refStage:Stage;		private var posX:int;		private var posY:int;		private var db:DB;		private var friends:XMLList;		private var gameData:XML;						private var _loader:URLLoader;		private var _request:URLRequest;		//public var gameData:XML;		public var friendsArr:Array = new Array();		public var prob:String;		public var friend:XMLList;				//THIS BUTTON IS TO CLOSE THE MSNG AREA		public var btnClose:BtnFriend;						public function YourMessages(stage:Stage) {						// constructor code			//trace("frndXMLList:"+frndXMLList);			refStage = stage;									//button to close MESSEGES			btnClose = new BtnFriend(13,14);			btnClose.x = 550;			btnClose.y = -5;			addChild(btnClose);			btnClose.addEventListener(MouseEvent.CLICK, closeMsng); 						//addBtn();			posX = this.x;			posY = this.y;						loadData();			//trace("Main.db.friend:"+Main.db.gameData);		}						public function closeMsng(event:MouseEvent)		{			parent.removeChild(this);			btnClose.removeEventListener(MouseEvent.CLICK, closeMsng); 					}						//==============Start charge the XML==================== 		public function loadData():void		{						_request = new URLRequest(URL);			_request.method = URLRequestMethod.POST;						_loader  = new URLLoader();						_loader.addEventListener(Event.COMPLETE,completeXML);			_loader.load(_request);		}				public function completeXML(e:Event):void		{			var xml:XML = new XML(e.target.data);			gameData = new XML(e.target.data);			//parseFriend(gameData)						friend = gameData.friend;			trace(friend);			friendsPanel(friend);					}				//==============END charge the XML==================== 								public function friendsPanel(friendsList:XMLList)				{			for (var i:int; i < 4 || i == friendsList.length; i++ )			{								friendPanel = new FriendPanel(300, 100*i+100, 500, 70);								addChild(friendPanel);								var str:String;								friendPanel.friendText(friendsList[i].name,12, 0x000000,0x000000 );				friendPanel.addPicture(friendsList[i].pic);				friendPanel.addBtn();															}					}					}	}